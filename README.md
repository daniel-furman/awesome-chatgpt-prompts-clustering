# Text clustering: HDBSCAN is probably all you need

[![License](https://img.shields.io/badge/License-Apache_2.0-green.svg)](https://github.com/daniel-furman/Polyglot-or-Not/blob/main/LICENSE) 
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/release/python-390/) 
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black) 


## Notebook

<a target="_blank" href="https://colab.research.google.com/github/daniel-furman/awesome-chatgpt-prompts-clustering/blob/main/notebooks/awesome-chatgpt-prompts-clustering.ipynb"> <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/>

## Citations

* Dataset: [`fka/awesome-chatgpt-prompts`](https://huggingface.co/datasets/fka/awesome-chatgpt-prompts)
* Embedding model: [`sentence-transformers/all-mpnet-base-v2`](https://huggingface.co/sentence-transformers/all-mpnet-base-v2)

## Experiments

* The below figures correspond to [`experiments/02_09_2023_16_54_32`](https://github.com/daniel-furman/awesome-chatgpt-prompts-clustering/tree/main/experiments/02_09_2023_16_54_32)

### Exemplars

**Figure 1**. The most persistent prompts in each leaf cluster are known as "exemplars". These represent the hearts around which the ultimate cluster formed.

![](experiments/02_09_2023_16_54_32/assets/exemplars_viz_1.png)

* See [`hdbscan docs`](https://hdbscan.readthedocs.io/en/latest/soft_clustering_explanation.html#distance-based-membership) for more information on the above figure

### Sub-Clustering

**Figure 2**. Additional clustering is conducted around the exemplars to identify sub-topics in the dataset. The cases in each sub-cluster then serve as context for the `gpt-3.5-turbo-16k` calls below.

![](experiments/02_09_2023_16_54_32/assets/exemplars_viz_2.png)

### Themes Summarization

**Figure 3**. A visualization of the dataset's core themes, which were generated by `gpt-3.5-turbo-16k`. Themes are arranged in descending order from most to least frequent. 

![](experiments/02_09_2023_16_54_32/assets/cluster1_subcluster4.png)
![](experiments/02_09_2023_16_54_32/assets/cluster1_subcluster2.png)
![](experiments/02_09_2023_16_54_32/assets/cluster1_subcluster5.png)
![](experiments/02_09_2023_16_54_32/assets/cluster0_subcluster1.png)
![](experiments/02_09_2023_16_54_32/assets/cluster1_subcluster3.png)
![](experiments/02_09_2023_16_54_32/assets/cluster0_subcluster0.png)

* The above figure was created with [`jsoncrack.com/editor`](https://jsoncrack.com/editor)
